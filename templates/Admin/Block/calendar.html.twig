{% extends sonata_block.templates.block_base %}

{% block block %}
    <div class="box box-primary">
        <div class="box-body">
            <div class="row">
                <div class="col-xs-12 margin-bottom">
                    <div id="calendar-holder" data-events-url="{{ path('fc_load_events') }}" data-gcal-api-key="{{ google_calendar_api_key }}"></div>
                </div>
            </div>
        </div>
        <div class="box-footer clearfix">
            <div class="row">
                <div class="col-sm-3">
                    <a href="{{ path('admin_app_event_create') }}" class="btn btn-primary margin-r-5"><i class="fa fa-plus-circle"></i> {{ 'backend.admin.event.button.add' | trans }}</a>
                    <a id="export_calendar_pdf_list_anchor" href="{{ path('admin_app_filedummy_exportCalendarPdfList', {start: 'start', end: 'end'}) }}" class="btn btn-info"><i class="fa fa-file-pdf-o"></i> {{ 'backend.admin.event.button.export_pdf_list' | trans }}</a>
                </div>
                {% if is_granted(constant('App\\Enum\\UserRolesEnum::ROLE_ADMIN')) %}
                    <div class="col-sm-9">
                        <div class="row">
                            {{ form_start(filter) }}
                                <div class="col-xs-3">
                                    {{ form_row(filter.submit) }}
                                </div>
                                <div class="col-xs-3">
                                    {{ form_widget(filter.classroom) }}
                                    {{ form_errors(filter.classroom) }}
                                </div>
                                <div class="col-xs-3">
                                    {{ form_widget(filter.teacher) }}
                                    {{ form_errors(filter.teacher) }}
                                </div>
                                <div class="col-xs-3">
                                    {{ form_widget(filter.group) }}
                                    {{ form_errors(filter.group) }}
                                </div>
                            {{ form_rest(filter) }}
                            {{ form_end(filter) }}
                        </div>

                    </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
