services:
    # Students
    admin.student:
        class: 'App\Admin\StudentAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', model_class: 'App\Entity\Student', controller: 'App\Controller\Admin\StudentAdminController', label: 'Alumne', group: 'Alumnes' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
            - [ 'setTemplate', [ 'edit', 'Admin/Student/edit.html.twig' ] ]
    admin.student_absence:
        class: 'App\Admin\StudentAbsenceAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Absència alumne', group: 'Alumnes' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.parent:
        class: 'App\Admin\PersonAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Pare, mare o tutor', group: 'Alumnes' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
            - [ 'setTemplate', [ 'edit', 'Admin/Student/edit.html.twig' ] ]
    admin.pre_register:
        class: 'App\Admin\PreRegisterAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Preinscipcions', group: 'Alumnes' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    # Teachers
    admin.teacher:
        class: 'App\Admin\TeacherAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Professor', group: 'Professors' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.teacher_absence:
        class: 'App\Admin\TeacherAbsenceAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Absència professor', group: 'Professors' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    # Classrooms
    admin.class_group:
        class: 'App\Admin\ClassGroupAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Grup', group: 'Aules' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
            - [ 'setTemplate', [ 'edit', 'Admin/ClassGroup/edit.html.twig' ] ]
    admin.event:
        class: 'App\Admin\EventAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Horari', group: 'Aules' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
            - [ 'setTemplate', [ 'edit', 'Admin/Event/edit.html.twig' ] ]
    admin.training_center:
        class: 'App\Admin\TrainingCenterAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Centre Formació', group: 'Aules' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    # Billings
    admin.tariff:
        class: 'App\Admin\TariffAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Tarifa', group: 'Facturació' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.receipt:
        class: 'App\Admin\ReceiptAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Rebut', group: 'Facturació' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
            - [ 'setTemplate', [ 'edit', 'Admin/Receipt/edit.html.twig' ] ]
            - [ 'setTemplate', [ 'list', 'Admin/Receipt/list.html.twig' ] ]
    admin.receipt_line:
        class: 'App\Admin\ReceiptLineAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Línies rebut', group: 'Facturació', show_in_dashboard: false }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.receipt_group:
        class: 'App\Admin\ReceiptGroupAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Remeses', group: 'Facturació' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.invoice:
        class: 'App\Admin\InvoiceAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Factura', group: 'Facturació' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
            - [ 'setTemplate', [ 'edit', 'Admin/Invoice/edit.html.twig' ] ]
    admin.invoice_line:
        class: 'App\Admin\InvoiceLineAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Línies factura', group: 'Facturació', show_in_dashboard: false }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    # Purchases
    admin.purchases.provider:
        class: 'App\Admin\ProviderAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Proveïdor', group: 'Despeses' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.purchases.spending_category:
        class: 'App\Admin\SpendingCategoryAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Tipus Despesa', group: 'Despeses' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.purchases.spending:
        class: 'App\Admin\SpendingAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Despesa', group: 'Despeses' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    # Contacts
    admin.contactmessage:
        class: 'App\Admin\ContactMessageAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Missatge de contacte', group: 'Contactes' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.newslettercontact:
        class: 'App\Admin\NewsletterContactAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Butlletí de contacte', group: 'Contactes' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    # Configurations
    admin.bank_creditor_sepa:
        class: 'App\Admin\BankCreditorSepaAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Banc', group: 'Configuració' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.province:
        class: 'App\Admin\ProvinceAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Província', group: 'Configuració' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.city:
        class: 'App\Admin\CityAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Ciutat', group: 'Configuració' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.user:
        class: 'App\Admin\UserAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Usuari', group: 'Configuració' }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.bank:
        class: 'App\Admin\BankAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Bank', group: 'Configuració', show_in_dashboard: false }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    # Extra Helper (admins without a related entity, for extra features like file manager or calendar)
    admin.file_manager_dummy:
        class: 'App\Admin\FileDummyAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'File Manager', group: 'Dummy', show_in_dashboard: false }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
    admin.extra_helper_manager_dummy:
        class: 'App\Admin\ExtraHelperManagerAdmin'
        tags:
            - { name: 'sonata.admin', manager_type: 'orm', label: 'Extra Manager', group: 'Dummy', show_in_dashboard: false }
        calls:
            - [ 'setEntityManager', [ '@doctrine.orm.entity_manager' ] ]
            - [ 'setSecurityHelper', [ '@security.helper' ] ]
            - [ 'setTwigEnvironment', [ '@twig' ] ]
            - [ 'setFileService', [ '@App\Service\FileService' ] ]
